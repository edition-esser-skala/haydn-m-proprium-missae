\documentclass[changelog=false,tocdir=\tocdir,tocstyle=none]{ees}

\usepackage{mfirstuc}
\usepackage{multicol}

\firstname{Johann Michael}
\lastname{Haydn}
\shortname{Haydn}
\shorttitle{Proprium miss√¶}

\providecommand\MetadataToestyle{short}

\ifthenelse{\isundefined{\MetadataFestival}}{%
  \subtitle{%
    \xmakefirstuc{\MetadataGenre}\\%
    \MetadataSubtitle%
  }%
}{%
  \subtitle{%
    \xmakefirstuc{\MetadataGenre}~(\MetadataFestival)\\%
    \MetadataSubtitle%
  }%
}%


\begin{document}

\eesTitlePage

\ifthenelse{\isundefined{\MetadataCommentary}}{}{%
\def\eesCommentaryAfterToe{\MetadataCommentary}%
}

\makeatletter%
  \ifthenelse{\isundefined{\MetadataToe}}{\ees@toefalse}{}%
  \ifthenelse{\equal{\MetadataToestyle}{movement}}%
    {\let\ees@tocstyle\ees@tocstyle@default}{}%
\makeatother%
\eesCriticalReport{\csname MetadataToe\endcsname}
\makeatletter%
  \ees@toetrue%
  \let\ees@tocstyle\ees@tocstyle@none%
\makeatother

\ifthenelse{\isundefined{\MetadataLyrics}}{}{%
  \ifPrintFrontMatter%
    \section{Lyrics}%
    \MetadataLyrics%
  \fi%
}

\eesToc{}

\eesScore

\end{document}
